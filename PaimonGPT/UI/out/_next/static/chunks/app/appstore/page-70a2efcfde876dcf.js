(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31],{16826:function(t,e,i){Promise.resolve().then(i.bind(i,33906))},65328:function(t,e,i){"use strict";i.d(e,{Aq:function(){return o},JR:function(){return d},KD:function(){return u},PW:function(){return p},YC:function(){return l},ZF:function(){return s},dJ:function(){return a},fQ:function(){return r},pm:function(){return c},sr:function(){return h}});var n=i(13650);async function o(){let t={method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")}},e=await (0,n.d)("/ai/app/list",t);return e?e.list:[]}async function a(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t})};return await (0,n.d)("/ai/app/info",e)}async function l(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],l={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t,name:e,description:i,llm_name:o,kbs:a})};return await (0,n.d)("/ai/app/info/modify",l)}async function s(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t})};return await (0,n.d)("/ai/app/create/from_appstore",e)}async function r(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({name:t,llm_name:e,kbs:i})};return await (0,n.d)("/ai/app/create",o)}async function c(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t})};return await (0,n.d)("/ai/app/delete",e)}async function u(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t})},i=await (0,n.d)("/ai/app/chat/list",e);return i?i.list:[]}async function d(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({app_id:t,name:e})};return await (0,n.d)("/ai/app/chat/create",i)}async function p(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({chat_id:t})};return await (0,n.d)("/ai/app/chat/delete",e)}async function h(t){let e={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({chat_id:t})},i=await (0,n.d)("/ai/app/chat/message/list",e);return i?i.list:[]}},83693:function(t,e,i){"use strict";i.d(e,{Ab:function(){return a},P5:function(){return o}});var n=i(13650);async function o(){let t={method:"GET",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")}},e=await (0,n.d)("/ai/appstore/app/list",t);return e?e.data:[]}async function a(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o={method:"POST",headers:{"Content-Type":"application/json",Authorization:localStorage.getItem("Authorization")},body:JSON.stringify({name:t,module_name:e,description:i})};return await (0,n.d)("/ai/appstore/app/install",o)}},13650:function(t,e,i){"use strict";async function n(t,e){let i=await fetch(t,e);return await i.json()}i.d(e,{d:function(){return n}})},33906:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return d}});var n=i(57437),o=i(2265),a=i(83693),l=i(98987),s=i(24033),r=i(73623),c=i(65328);function u(t){let{app:e,installed:i}=t,o=(0,s.useRouter)(),a=(0,r.p)();async function u(){(await (0,c.ZF)(e.id)).msg&&(a({title:"成功",status:"success",position:"top",duration:2e3}),o.push("/appstore"))}return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"relative col-span-1 bg-white border-2 border-solid border-transparent rounded-lg shadow-xs min-h-[160px] flex flex-col transition-all duration-300 ease-in-out cursor-pointer hover:shadow-2xl group",children:[(0,n.jsxs)("div",{className:"flex pt-[14px] px-[14px] pb-3 h-[66px] items-center gap-3 grow-0 shrink-0",children:[(0,n.jsx)(l.Z,{}),(0,n.jsx)("div",{className:"relative h-8 text-sm font-medium leading-8 grow",children:(0,n.jsx)("div",{className:"absolute top-0 left-2 w-full h-full overflow-hidden text-ellipsis whitespace-nowrap",children:e.name})})]}),(0,n.jsx)("div",{className:"mb-3 px-[14px] h-9 text-xs leading-normal text-gray-500 line-clamp-2",children:e.description}),(0,n.jsx)("button",{disabled:i,onClick:u,className:"absolute py-1.5 border-transparent rounded-lg w-full bottom-0 hidden group-hover:block group-hover:text-white group-hover:bg-blue-400",children:i?"已添加":"添加到我的应用"})]})})}function d(){let[t,e]=(0,o.useState)([]),[i,l]=(0,o.useState)([]);async function s(){let t=await (0,a.P5)();t&&e(t)}async function r(){let t=await (0,c.Aq)();if(t){let e=[];t.map(t=>{t.is_appstore&&e.push(t.appstore_uid),l(e)})}}return(0,o.useEffect)(()=>{s(),r()},[]),(0,n.jsx)(n.Fragment,{children:t.length>0?(0,n.jsx)("div",{className:"grid content-start grid-cols-1 gap-4 px-12 pt-8 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 grow shrink-0",children:t.map(t=>(0,n.jsx)(u,{app:t,installed:i.includes(t.id)},t.id))}):(0,n.jsxs)("div",{className:"w-full h-full text-center",children:[(0,n.jsx)("div",{className:"text-2xl mt-36",children:"暂时还未有应用上架"}),(0,n.jsx)("div",{className:"text-4xl mt-6",children:"敬请期待"})]})})}},98987:function(t,e,i){"use strict";i.d(e,{Z:function(){return O}});var n=i(57437),o=i(28498),a=i(25911),l=i(94213),s=i(5690),r=i(33955),c=i(70818),u=i(97544),d=i(43302),p=i(55432),h=i(30114),f=i(3297),m=i(67771),g=i(67349),x=i(68665),j=i(87615),y=i(19868),z=i(78693),S=i(58207),b=i(76965),w=i(48994),v=i(41523),Z=i(8136),A=i(7061),T=i(46858),N=i(31266);function O(t){let{name:e=null}=t,i={Add:(0,n.jsx)(o.Z,{theme:"outline",size:"24",fill:"#adabab"})},O=[{icon:(0,n.jsx)(a.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(l.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(s.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(r.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(c.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(u.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(d.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(p.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(h.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(f.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(m.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(g.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(x.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(j.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(y.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(z.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(S.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(b.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(w.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(v.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(Z.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(A.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(T.Z,{theme:"outline",size:"24",fill:"#333"})},{icon:(0,n.jsx)(N.Z,{theme:"outline",size:"24",fill:"#333"})}];return e?i[e]:O[Math.floor(Math.random()*O.length)].icon}i(76131)},73623:function(t,e,i){"use strict";i.d(e,{p:function(){return s}});var n=i(6161),o=i(8936),a=i(12704),l=i(2265);function s(t){let{theme:e}=(0,a.uP)(),i=(0,n.OX)();return(0,l.useMemo)(()=>(0,o.Cj)(e.direction,{...i,...t}),[t,e.direction,i])}}},function(t){t.O(0,[6161,4486,2971,4938,1744],function(){return t(t.s=16826)}),_N_E=t.O()}]);